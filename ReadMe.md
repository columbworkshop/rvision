## ReadMe
Рассматривается 1 основной сценарий работы - это проверка на наличие нового комментария в поле "Комментарий оператора". Проверка выполняется по таймауту. Проверяются все инциденты ID которых записаны в регистр. Данный регистр - это Key-Value структура в оперативной памяти (она не сбрасывает на диск! - поэтому было бы хорошо использовать что-то более надежное, например Redis Cluster или Memcached) 

Логика работы проста - если новый комментарий оператора  есть, то данный комментарий:
* отправляется в API-сервис для передачи комментариев в Jira
* дозаписывается в поле общих комментариев в карточке

Далее инцидент модифицируется путем перезаписи 2х полей:
* комментария оператора  
* поля с общими комментариями

Схема приведена в файле FlowChart.drawio - https://github.com/columbworkshop/rvision/blob/main/Flowchart.drawio

Также добавлены несколько обеспечивающих сервисов:
* добавления нового инцидента в регистр
* удаления инцидента из регистра
* просмотра количества инцидентов в регистре 

### Дополнительно реализуется связываение инцидентов (корреляция)
Логика работы в этой части максимально проста - программе передается ID мастер-инцидента и она делает выборку инцидентов и определяет по полю MOKS ID связанные инциденты. Это становится возможным так как в созданном при помощи МОКС мастер-инциденте в служебном поле приведены МОКС ID всех связанных инцидентов

Далее путем вызова API Rvision программа выполняет:
* линковку данынх инцидентов между собой
* добавление мастер-инцидента в регистр 

Далее после того как макстер-инцидент был добавлен в регистр - программа с определенным настраиваемым таймаутом делает проверку статуса всех связанных инцидентов - если все подчиненные инциденты закрыты, то закрывается мастер-инцидент и он удаляется из регистра 
